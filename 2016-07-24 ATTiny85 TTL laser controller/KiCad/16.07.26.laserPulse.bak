EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:16.07.26.laserPulse-cache
EELAYER 25 0
EELAYER END
$Descr User 8662 5118
encoding utf-8
Sheet 1 1
Title "opto-isolated laser controller"
Date "2016-07-26"
Rev "1"
Comp "design by Scott Harden (www.SWHarden.com)"
Comment1 "INTERFACE: Coulbourn Instruments Habitest Linc"
Comment2 "LASER: Shanghai Laser (473nm DPSS Fiber Coupled)"
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L R R2
U 1 1 57981E55
P 2075 1650
F 0 "R2" V 2155 1650 50  0000 C CNN
F 1 "200" V 2075 1650 50  0000 C CNN
F 2 "" V 2005 1650 50  0000 C CNN
F 3 "" H 2075 1650 50  0000 C CNN
	1    2075 1650
	0    -1   -1   0   
$EndComp
$Comp
L ZENER D1
U 1 1 579821B0
P 1825 1850
F 0 "D1" H 1825 1950 50  0000 C CNN
F 1 "3.3V" H 1825 1750 50  0000 C CNN
F 2 "" H 1825 1850 50  0000 C CNN
F 3 "" H 1825 1850 50  0000 C CNN
	1    1825 1850
	0    1    1    0   
$EndComp
$Comp
L R R1
U 1 1 57982F89
P 1525 1650
F 0 "R1" V 1605 1650 50  0000 C CNN
F 1 "1k" V 1525 1650 50  0000 C CNN
F 2 "" V 1455 1650 50  0000 C CNN
F 3 "" H 1525 1650 50  0000 C CNN
	1    1525 1650
	0    -1   -1   0   
$EndComp
$Comp
L TEST_1P W1
U 1 1 5798306A
P 1225 1650
F 0 "W1" H 1225 1920 50  0000 C CNN
F 1 "input(+)" H 1225 1850 50  0000 C CNN
F 2 "" H 1425 1650 50  0000 C CNN
F 3 "" H 1425 1650 50  0000 C CNN
	1    1225 1650
	0    -1   -1   0   
$EndComp
$Comp
L TEST_1P W2
U 1 1 5798313D
P 1225 2050
F 0 "W2" H 1225 2320 50  0000 C CNN
F 1 "input(-)" H 1225 2250 50  0000 C CNN
F 2 "" H 1425 2050 50  0000 C CNN
F 3 "" H 1425 2050 50  0000 C CNN
	1    1225 2050
	0    -1   -1   0   
$EndComp
$Comp
L OPTO-DARLINGTON U2
U 1 1 57983F0A
P 2725 1950
F 0 "U2" H 2525 2150 50  0000 L CNN
F 1 "H11B1" H 2525 1750 50  0000 L CNN
F 2 "" H 2525 1750 50  0000 L CIN
F 3 "" H 2725 1925 50  0000 L CNN
	1    2725 1950
	1    0    0    -1  
$EndComp
Text Notes 875  900  0    60   ~ 12
DIFFERENTIAL PAIR INPUT
Text Notes 881  1097 0    39   ~ 0
Triggered by DC input \n(regardless of voltage)\nTTL, CMOS, 5V, 28V, -28V, etc.
Text Notes 2675 1600 1    60   ~ 12
optical isolation\n
Text Notes 1175 2336 0    39   Italic 0
First resistor limits current (28mA if 28V).\nChip sees 3.3V regardless of input.\n(excess current is shunted through zener)\nSecond resistor limits chip current to 16.5mA
NoConn ~ 3030 1850
$Comp
L VCC #PWR5
U 1 1 5798291D
P 3150 1850
F 0 "#PWR5" H 3150 1700 50  0001 C CNN
F 1 "VCC" H 3150 2000 50  0000 C CNN
F 2 "" H 3150 1850 50  0000 C CNN
F 3 "" H 3150 1850 50  0000 C CNN
	1    3150 1850
	1    0    0    -1  
$EndComp
$Comp
L R R3
U 1 1 57982B00
P 3150 2200
F 0 "R3" V 3230 2200 50  0000 C CNN
F 1 "1k" V 3150 2200 50  0000 C CNN
F 2 "" V 3080 2200 50  0000 C CNN
F 3 "" H 3150 2200 50  0000 C CNN
	1    3150 2200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR6
U 1 1 57982B62
P 3150 2350
F 0 "#PWR6" H 3150 2100 50  0001 C CNN
F 1 "GND" H 3150 2200 50  0000 C CNN
F 2 "" H 3150 2350 50  0000 C CNN
F 3 "" H 3150 2350 50  0000 C CNN
	1    3150 2350
	1    0    0    -1  
$EndComp
Text Notes 3325 2025 0    39   Italic 0
this is now a TTL signal
$Comp
L GND #PWR15
U 1 1 57983438
P 7425 2350
F 0 "#PWR15" H 7425 2100 50  0001 C CNN
F 1 "GND" H 7425 2200 50  0000 C CNN
F 2 "" H 7425 2350 50  0000 C CNN
F 3 "" H 7425 2350 50  0000 C CNN
	1    7425 2350
	0    -1   -1   0   
$EndComp
$Comp
L Crystal Y1
U 1 1 579836DE
P 4325 2375
F 0 "Y1" H 4325 2525 50  0000 C CNN
F 1 "11.0592 MHz" H 4325 2225 39  0000 C CNN
F 2 "" H 4325 2375 50  0000 C CNN
F 3 "" H 4325 2375 50  0000 C CNN
	1    4325 2375
	-1   0    0    1   
$EndComp
$Comp
L C C5
U 1 1 57983997
P 4100 2675
F 0 "C5" H 4125 2775 50  0000 L CNN
F 1 "20p" H 4125 2575 50  0000 L CNN
F 2 "" H 4138 2525 50  0000 C CNN
F 3 "" H 4100 2675 50  0000 C CNN
	1    4100 2675
	-1   0    0    1   
$EndComp
$Comp
L C C6
U 1 1 57983C6D
P 4550 2675
F 0 "C6" H 4575 2775 50  0000 L CNN
F 1 "20p" H 4575 2575 50  0000 L CNN
F 2 "" H 4588 2525 50  0000 C CNN
F 3 "" H 4550 2675 50  0000 C CNN
	1    4550 2675
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR9
U 1 1 5798468B
P 4100 2825
F 0 "#PWR9" H 4100 2575 50  0001 C CNN
F 1 "GND" H 4100 2675 50  0000 C CNN
F 2 "" H 4100 2825 50  0000 C CNN
F 3 "" H 4100 2825 50  0000 C CNN
	1    4100 2825
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR10
U 1 1 579846B5
P 4550 2825
F 0 "#PWR10" H 4550 2575 50  0001 C CNN
F 1 "GND" H 4550 2675 50  0000 C CNN
F 2 "" H 4550 2825 50  0000 C CNN
F 3 "" H 4550 2825 50  0000 C CNN
	1    4550 2825
	1    0    0    -1  
$EndComp
$Comp
L LM7805 U1
U 1 1 57985B23
P 2075 3775
F 0 "U1" H 2225 3579 50  0000 C CNN
F 1 "LM7805" H 2075 3975 50  0000 C CNN
F 2 "" H 2075 3775 50  0000 C CNN
F 3 "" H 2075 3775 50  0000 C CNN
	1    2075 3775
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 57985D1C
P 1525 3875
F 0 "C2" H 1550 3975 50  0000 L CNN
F 1 "100nF" H 1550 3775 50  0000 L CNN
F 2 "" H 1563 3725 50  0000 C CNN
F 3 "" H 1525 3875 50  0000 C CNN
	1    1525 3875
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 5798613A
P 1175 3875
F 0 "C1" H 1200 3975 50  0000 L CNN
F 1 "22uF" H 1200 3775 50  0000 L CNN
F 2 "" H 1213 3725 50  0000 C CNN
F 3 "" H 1175 3875 50  0000 C CNN
	1    1175 3875
	1    0    0    -1  
$EndComp
$Comp
L C C4
U 1 1 57986575
P 2975 3875
F 0 "C4" H 3000 3975 50  0000 L CNN
F 1 "22uF" H 3000 3775 50  0000 L CNN
F 2 "" H 3013 3725 50  0000 C CNN
F 3 "" H 2975 3875 50  0000 C CNN
	1    2975 3875
	1    0    0    -1  
$EndComp
$Comp
L C C3
U 1 1 5798657B
P 2625 3875
F 0 "C3" H 2650 3975 50  0000 L CNN
F 1 "100nF" H 2650 3775 50  0000 L CNN
F 2 "" H 2663 3725 50  0000 C CNN
F 3 "" H 2625 3875 50  0000 C CNN
	1    2625 3875
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR2
U 1 1 57986AE6
P 2075 4125
F 0 "#PWR2" H 2075 3875 50  0001 C CNN
F 1 "GND" H 2075 3975 50  0000 C CNN
F 2 "" H 2075 4125 50  0000 C CNN
F 3 "" H 2075 4125 50  0000 C CNN
	1    2075 4125
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR1
U 1 1 57986B4D
P 1100 3725
F 0 "#PWR1" H 1100 3575 50  0001 C CNN
F 1 "+12V" H 1100 3865 50  0000 C CNN
F 2 "" H 1100 3725 50  0000 C CNN
F 3 "" H 1100 3725 50  0000 C CNN
	1    1100 3725
	0    -1   -1   0   
$EndComp
$Comp
L VCC #PWR4
U 1 1 57986BE1
P 3050 3725
F 0 "#PWR4" H 3050 3575 50  0001 C CNN
F 1 "VCC" H 3050 3875 50  0000 C CNN
F 2 "" H 3050 3725 50  0000 C CNN
F 3 "" H 3050 3725 50  0000 C CNN
	1    3050 3725
	0    1    1    0   
$EndComp
Text Notes 1325 3675 0    39   Italic 0
(+7V to +25V)
Text Notes 2350 3675 0    39   Italic 0
(+5V)
Text Notes 925  3550 0    60   ~ 12
POWER SUPPLY
$Comp
L C C7
U 1 1 57988091
P 7575 1750
F 0 "C7" H 7600 1850 50  0000 L CNN
F 1 "100n" H 7600 1650 50  0000 L CNN
F 2 "" H 7613 1600 50  0000 C CNN
F 3 "" H 7575 1750 50  0000 C CNN
	1    7575 1750
	0    1    1    0   
$EndComp
$Comp
L VCC #PWR14
U 1 1 57988910
P 7425 1675
F 0 "#PWR14" H 7425 1525 50  0001 C CNN
F 1 "VCC" H 7425 1825 50  0000 C CNN
F 2 "" H 7425 1675 50  0000 C CNN
F 3 "" H 7425 1675 50  0000 C CNN
	1    7425 1675
	1    0    0    -1  
$EndComp
$Comp
L ATTINY85-P IC1
U 1 1 57982E6A
P 6075 2100
F 0 "IC1" H 4925 2500 50  0000 C CNN
F 1 "ATMEL ATTINY85-P MICROCONTROLLER" H 5600 1675 50  0000 C CNN
F 2 "DIP8" H 7075 2100 50  0000 C CIN
F 3 "" H 6075 2100 50  0000 C CNN
	1    6075 2100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR16
U 1 1 579895F9
P 7725 1750
F 0 "#PWR16" H 7725 1500 50  0001 C CNN
F 1 "GND" H 7725 1600 50  0000 C CNN
F 2 "" H 7725 1750 50  0000 C CNN
F 3 "" H 7725 1750 50  0000 C CNN
	1    7725 1750
	0    -1   -1   0   
$EndComp
$Comp
L R R6
U 1 1 5798A8DC
P 6700 1150
F 0 "R6" V 6780 1150 50  0000 C CNN
F 1 "47k" V 6700 1150 50  0000 C CNN
F 2 "" V 6630 1150 50  0000 C CNN
F 3 "" H 6700 1150 50  0000 C CNN
	1    6700 1150
	0    1    1    0   
$EndComp
$Comp
L LED D4
U 1 1 5798A9FF
P 7050 1150
F 0 "D4" H 7050 1250 50  0000 C CNN
F 1 "POWER" H 7000 1025 50  0000 C CNN
F 2 "" H 7050 1150 50  0000 C CNN
F 3 "" H 7050 1150 50  0000 C CNN
	1    7050 1150
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR13
U 1 1 5798AA7C
P 7250 1150
F 0 "#PWR13" H 7250 900 50  0001 C CNN
F 1 "GND" H 7250 1000 50  0000 C CNN
F 2 "" H 7250 1150 50  0000 C CNN
F 3 "" H 7250 1150 50  0000 C CNN
	1    7250 1150
	0    -1   -1   0   
$EndComp
$Comp
L R R4
U 1 1 5798B8D4
P 3725 2200
F 0 "R4" V 3805 2200 50  0000 C CNN
F 1 "47k" V 3725 2200 50  0000 C CNN
F 2 "" V 3655 2200 50  0000 C CNN
F 3 "" H 3725 2200 50  0000 C CNN
	1    3725 2200
	-1   0    0    1   
$EndComp
$Comp
L LED D2
U 1 1 5798B8DA
P 3725 2550
F 0 "D2" H 3725 2650 50  0000 C CNN
F 1 "INPUT" H 3675 2425 50  0000 C CNN
F 2 "" H 3725 2550 50  0000 C CNN
F 3 "" H 3725 2550 50  0000 C CNN
	1    3725 2550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR7
U 1 1 5798B8E0
P 3725 2750
F 0 "#PWR7" H 3725 2500 50  0001 C CNN
F 1 "GND" H 3725 2600 50  0000 C CNN
F 2 "" H 3725 2750 50  0000 C CNN
F 3 "" H 3725 2750 50  0000 C CNN
	1    3725 2750
	1    0    0    -1  
$EndComp
$Comp
L R R5
U 1 1 5798DC1B
P 4875 1150
F 0 "R5" V 4955 1150 50  0000 C CNN
F 1 "47k" V 4875 1150 50  0000 C CNN
F 2 "" V 4805 1150 50  0000 C CNN
F 3 "" H 4875 1150 50  0000 C CNN
	1    4875 1150
	0    1    1    0   
$EndComp
$Comp
L LED D3
U 1 1 5798DC21
P 5225 1150
F 0 "D3" H 5225 1250 50  0000 C CNN
F 1 "LASER" H 5175 1025 50  0000 C CNN
F 2 "" H 5225 1150 50  0000 C CNN
F 3 "" H 5225 1150 50  0000 C CNN
	1    5225 1150
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR11
U 1 1 5798DC27
P 5425 1150
F 0 "#PWR11" H 5425 900 50  0001 C CNN
F 1 "GND" H 5425 1000 50  0000 C CNN
F 2 "" H 5425 1150 50  0000 C CNN
F 3 "" H 5425 1150 50  0000 C CNN
	1    5425 1150
	0    -1   -1   0   
$EndComp
$Comp
L BNC LASER1
U 1 1 5798E313
P 4075 1150
F 0 "LASER1" H 4085 1270 50  0000 C CNN
F 1 "BNC" V 4185 1090 50  0000 C CNN
F 2 "" H 4075 1150 50  0000 C CNN
F 3 "" H 4075 1150 50  0000 C CNN
	1    4075 1150
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR8
U 1 1 5798EA38
P 4075 1350
F 0 "#PWR8" H 4075 1100 50  0001 C CNN
F 1 "GND" H 4075 1200 50  0000 C CNN
F 2 "" H 4075 1350 50  0000 C CNN
F 3 "" H 4075 1350 50  0000 C CNN
	1    4075 1350
	1    0    0    -1  
$EndComp
NoConn ~ 4725 1850
NoConn ~ 4725 2350
Text Notes 4875 2625 0    39   Italic 0
ICSP connections not shown
Wire Wire Line
	1225 1650 1375 1650
Connection ~ 1825 1650
Connection ~ 1825 2050
Wire Wire Line
	1675 1650 1925 1650
Wire Wire Line
	2225 1650 2325 1650
Wire Wire Line
	2325 1650 2325 1850
Wire Wire Line
	2325 1850 2425 1850
Wire Wire Line
	1225 2050 2425 2050
Wire Notes Line
	2725 700  2725 1750
Wire Notes Line
	2725 700  775  700 
Wire Notes Line
	775  700  775  2400
Wire Notes Line
	775  2400 2725 2400
Wire Notes Line
	2725 2400 2725 2200
Wire Wire Line
	3025 1950 3150 1950
Wire Wire Line
	3150 1950 3150 1850
Wire Wire Line
	3025 2050 4725 2050
Wire Wire Line
	4100 2375 4175 2375
Wire Wire Line
	4550 2375 4475 2375
Wire Wire Line
	4100 2150 4725 2150
Connection ~ 4100 2375
Wire Wire Line
	4550 2250 4725 2250
Connection ~ 4550 2375
Connection ~ 2625 3725
Wire Wire Line
	1175 4025 2975 4025
Connection ~ 1525 4025
Connection ~ 2075 4025
Connection ~ 2625 4025
Connection ~ 1525 3725
Wire Wire Line
	2075 4125 2075 4025
Connection ~ 2975 3725
Connection ~ 1175 3725
Wire Wire Line
	7425 1850 7425 1675
Connection ~ 7425 1750
Wire Wire Line
	4525 1950 4725 1950
Wire Wire Line
	4225 1150 4725 1150
Connection ~ 4525 1150
Wire Wire Line
	4525 1150 4525 1950
Wire Wire Line
	2475 3725 3050 3725
Wire Wire Line
	1100 3725 1675 3725
$Comp
L VCC #PWR12
U 1 1 57994015
P 6550 1150
F 0 "#PWR12" H 6550 1000 50  0001 C CNN
F 1 "VCC" H 6550 1300 50  0000 C CNN
F 2 "" H 6550 1150 50  0000 C CNN
F 3 "" H 6550 1150 50  0000 C CNN
	1    6550 1150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4550 2250 4550 2525
Wire Wire Line
	4100 2150 4100 2525
Text Notes 4500 1900 1    39   Italic 0
consider buffering this
$Comp
L R R7
U 1 1 5798C1C8
P 2675 2800
F 0 "R7" V 2755 2800 50  0000 C CNN
F 1 "47k" V 2675 2800 50  0000 C CNN
F 2 "" V 2605 2800 50  0000 C CNN
F 3 "" H 2675 2800 50  0000 C CNN
	1    2675 2800
	0    1    1    0   
$EndComp
Connection ~ 3150 2050
$Comp
L VCC #PWR3
U 1 1 5798C439
P 2525 2800
F 0 "#PWR3" H 2525 2650 50  0001 C CNN
F 1 "VCC" H 2525 2950 50  0000 C CNN
F 2 "" H 2525 2800 50  0000 C CNN
F 3 "" H 2525 2800 50  0000 C CNN
	1    2525 2800
	0    -1   -1   0   
$EndComp
$Comp
L SW_PUSH SW1
U 1 1 5798C4B3
P 3125 2800
F 0 "SW1" H 3275 2910 50  0000 C CNN
F 1 "TEST" H 3125 2720 50  0000 C CNN
F 2 "" H 3125 2800 50  0000 C CNN
F 3 "" H 3125 2800 50  0000 C CNN
	1    3125 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3425 2050 3425 2800
Connection ~ 3425 2050
$EndSCHEMATC
